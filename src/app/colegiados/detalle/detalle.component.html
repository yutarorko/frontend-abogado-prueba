<br>
<i class="pi pi-spin pi-spinner" *ngIf="!colegiado else formList" style="font-size: 6rem"></i>
<ng-template #formList>
    <p-toolbar >
        <div class="p-toolbar-group-left">
            <h2 class="text-layout">COLEGIADO: {{colegiado.nombre}} {{colegiado.apellido}} </h2>
        </div>
        
        <div class="p-toolbar-group-right">
            <p-button [routerLink]="['/colegiados']" icon="pi pi-times" styleClass="p-button-danger"></p-button>
        </div>
    </p-toolbar>
    <div class="card" style="padding: 0.5em 2em; background-color: #1f2d40;">
        <br>
        <div class="grid p-fluid">
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Número de colegiatura</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-sort-numeric-up"></i></span>
                    <input readonly name="colegiatura" [(ngModel)]="colegiado.colegiatura" type="text" pInputText placeholder="Colegiatura" autocomplete="off" >         
                </div>
            </div>

            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Número de DNI</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-id-card"></i></span>
                    <input readonly type="text" name="dni" [(ngModel)]="colegiado.dni" pInputText placeholder="DNI del colegiado" autocomplete="off">         
                </div>
            </div>

            <div class="field col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Fecha de colegiatura</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-calendar"></i></span>
                    <input readonly type="text" name="fechaColegiatura" value="{{colegiado.fechaColegiatura  |date:'dd/MM/yyyy' }}"  pInputText autocomplete="off">
                </div>
            </div>

            
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Nombre</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                    <input readonly type="text" name="nombre" [(ngModel)]="colegiado.nombre" pInputText placeholder="Nombres" autocomplete="off">         
                </div>
            </div>
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Apellidos</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                    <input readonly type="text" name="apellido" [(ngModel)]="colegiado.apellido"  pInputText placeholder="Apellidos" autocomplete="off">         
                </div>
            </div>
            
            <div class="field col-12 md:col-4" >
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Fecha de nacimiento</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-calendar"></i></span>
                    <input readonly type="text" name="nacimiento" value="{{colegiado.nacimiento|date:'dd/MM/yyyy' }}"  pInputText autocomplete="off">
                </div>
            </div>
                    
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Departamento</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-map-marker"></i></span>
                    <input readonly type="text" name="departamento" [(ngModel)]="colegiado.departamento" pInputText placeholder="Departamento" autocomplete="off">      
                </div>
            </div>
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Provincia</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-map-marker"></i></span>
                    <input readonly type="text" name="provincia" [(ngModel)]="colegiado.provincia" pInputText placeholder="Provincia" autocomplete="off">      
                </div>
            </div>
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Distrito</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-map-marker"></i></span>
                    <input readonly type="text" name="distrito" [(ngModel)]="colegiado.distrito" pInputText placeholder="Distrito" autocomplete="off">      
                </div>
            </div>
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Dirección de domicilio</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-map-marker"></i></span>
                    <input readonly type="text" name="domicilio" [(ngModel)]="colegiado.domicilio" pInputText placeholder="Domicilio" autocomplete="off">      
                </div>
            </div>
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Dirección de trabajo</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-map-marker"></i></span>
                    <input readonly type="text" name="trabajo" [(ngModel)]="colegiado.trabajo" pInputText placeholder="trabajo" autocomplete="off">      
                </div>
            </div>
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Correo electrónico</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon">@</span>
                    <input readonly type="text" name="correo" [(ngModel)]="colegiado.correo" pInputText  autocomplete="off">      
                </div>
            </div>
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Telefono</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-phone"></i></span>
                    <input readonly type="text" name="telefono" [(ngModel)]="colegiado.telefono" pInputText placeholder="Telefono" autocomplete="off">      
                </div>
            </div>
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Sexo</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                    <input readonly type="text" name="sexo" [(ngModel)]="colegiado.sexo" pInputText placeholder="sexo" autocomplete="off">         
                </div>
            </div>
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Libreta militar</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-file"></i></span>
                    <input readonly type="text" name="lm" [(ngModel)]="colegiado.lm" pInputText  autocomplete="off">      
                </div>
            </div>

            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Universidad</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-building"></i></span>
                    <input readonly type="text" name="universidad"  value="{{colegiado.universidad.nombre}}" pInputText placeholder="Colegiatura" autocomplete="off" >         
                </div>
            </div>
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Habilidad</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-users"></i></span>
                    <input readonly type="text" name="habilidad"  value="{{colegiado.habilidad.nombre}}"  pInputText placeholder="Colegiatura" autocomplete="off" >         
                </div>
            </div>
            <div class="col-12 md:col-4">
                <h4 class="text-layout" style="padding: 0 !important;margin: 0px;">Fecha de fallecimiento</h4>
                <div class="p-inputgroup">
                    <span class="p-inputgroup-addon"><i class="pi pi-file"></i></span>
                    <input readonly type="text" name="fechaFallecimiento" [(ngModel)]="colegiado.fechaFallecimiento" pInputText  autocomplete="off">      
                </div>
            </div>
        </div>
        <br>
        <h2 class="text-layout">FACTURAS</h2>
        <hr>
        <br>

        <p-messages *ngIf="facturas.length==0" severity="info">
            <ng-template pTemplate>
                <div class="ml-4">El colegiado <b> < {{colegiado.nombre}} {{colegiado.apellido}} > </b> no tiene facturas asignadas. &nbsp;&nbsp;</div>
            </ng-template>
        </p-messages>

        <p-table *ngIf="facturas.length>0" [value]="facturas"  responsiveLayout="scroll" >
            <ng-template pTemplate="header">
                <tr>
                    <th>Folio</th>
                    <th>Descripción</th>
                    <th>Fecha</th>
                    <th>Total</th>
                    <th>Detalle</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-factura>
                <tr>
                    <td>{{factura.id}}</td>
                    <td *ngIf="factura.cuota == 'si'">CUOTA</td>
                    <td *ngIf="factura.cuota == 'no'">TRAMITE</td>
                    <td>{{factura.fechaPago}}</td>
                    <td>S/ {{factura.total}}</td>
                    <td>
                        <button icon="pi pi-eye" pButton pRipple type="button" label="Ver" [routerLink]="['/facturas',factura.id]" class="p-button-outlined p-button-info"></button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
        <br>
    </div>
</ng-template>

